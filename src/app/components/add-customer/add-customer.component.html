<app-page-header [headerIcon]="headerIcon" [headerTitle]="headerTitle"></app-page-header>

<div class="row">
  <div class="col-12">
    <form #customerForm="ngForm" (ngSubmit)="onSubmit(customerForm)" novalidate="novalidate" autocomplete="off">
      <div class="row">
        <div class="col-md-4 mb-3">
          <label for="firstName"><span class="text-danger">* </span> First name: </label>
          <input [ngClass]="{'is-invalid':fnf.errors && fnf.touched}" #fnf="ngModel" [(ngModel)]="firstName" type="text"
            name="firstName" id="firstName" class="form-control" required minlength="2">
          <div class="invalid-feedback" [hidden]="!fnf.errors?.required">* First name is required</div>
          <div class="invalid-feedback" [hidden]="!fnf.errors?.minlength">* First name must be min 2 chars</div>
        </div>
        <div class="col-md-4 mb-3">
          <label for="lastName"><span class="text-danger">* </span> Last name: </label>
          <input [ngClass]="{'is-invalid':lnf.errors && lnf.touched}" #lnf="ngModel" [(ngModel)]="lastName" type="text"
            name="lastName" id="lastName" class="form-control" required minlength="2">
          <div class="invalid-feedback" [hidden]="!lnf.errors?.required">* Last name is required</div>
          <div class="invalid-feedback" [hidden]="!lnf.errors?.minlength">* Last name must be min 2 chars</div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 mb-3">
          <label for="email"><span class="text-danger">* </span> Email: </label>
          <input [ngClass]="{'is-invalid':ef.errors && ef.touched}" #ef="ngModel" [(ngModel)]="email" type="email" name="email"
            id="email" class="form-control" required email>
          <div class="invalid-feedback" [hidden]="!ef.errors?.required">* Email is required</div>
          <div class="invalid-feedback" [hidden]="!ef.errors?.email">* A valid email is required</div>
        </div>
        <div class="col-md-4 mb-3">
          <label for="phone"><span class="text-danger">* </span> Phone: </label>
          <input [ngClass]="{'is-invalid':pf.errors && pf.touched}" #pf="ngModel" [(ngModel)]="phone" type="tel" name="phone"
            id="phone" class="form-control" required pattern="^0[2-9]\d{7,8}$">
          <div class="invalid-feedback" [hidden]="!pf.errors?.required">* Phone is required</div>
          <div class="invalid-feedback" [hidden]="!pf.errors?.pattern">* A valid phone is required</div>
        </div>

      </div>
      <div class="col-md-8 mb-3">
        <label for="address"> Address: </label>
        <input type="text" id="address" name="address" [(ngModel)]="address" #af="ngModel" class="form-control">
      </div>
      <div class="col-md-8 mb-3">
        <label for="notes"> Notes: </label>
        <textarea name="notes" id="notes" cols="30" rows="10" [(ngModel)]="notes" #nf="ngModel" class="form-control"></textarea>
      </div>
      <div class="fixed-bottom text-center bg-light p-3">
        <input [disabled]="!customerForm.form.valid" type="submit" value="Save" id="submit" name="submit" class="btn btn-primary mr-3">
        <a href="" routerLink="/customers" class="btn btn-secondary"> Cancel </a>
      </div>
    </form>
  </div>
</div>
